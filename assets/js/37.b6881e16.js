(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{318:function(s,a,t){"use strict";t.r(a);var n=t(14),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"a5-通过nginx发布vuepress"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a5-通过nginx发布vuepress"}},[s._v("#")]),s._v(" A5. 通过Nginx发布VuePress")]),s._v(" "),a("h2",{attrs:{id:"_1-准备好相关markdown文档-生成网站静态文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-准备好相关markdown文档-生成网站静态文件"}},[s._v("#")]),s._v(" 1. 准备好相关Markdown文档，生成网站静态文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("yarn")]),s._v(" docs:build\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在docs文件夹下将生成dist目录，其中包含网站文件。拷贝或上传该文件夹dist到服务器合适目录。在这里假设为:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/home/cai/vuepress-starter/docs/.vuepress/dist\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_2-修改nginx配置文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改nginx配置文件"}},[s._v("#")]),s._v(" 2. 修改nginx配置文件")]),s._v(" "),a("p",[s._v("配置文件目录为/usr/local/nginx/conf/nginx.conf，在合适的地方加入如下代码:")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n     listen  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("8012")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     root    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("home"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cai"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("starter"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("docs"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dist"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     location  "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        index index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("html index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("htm"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("代表让nginx添加一个监听端口8012，并且网站的根目录为/home/cai/vuepress-starter/docs/.vuepress/dist，默认访问文件为index.html。")]),s._v(" "),a("p",[s._v("验证nginx配置文件:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("最后重启新加载nginx配置文件：")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("nginx "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" reload\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_3-远程访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-远程访问"}},[s._v("#")]),s._v(" 3. 远程访问")]),s._v(" "),a("p",[s._v("http://202.117.3.66:8012")])])}),[],!1,null,null,null);a.default=e.exports}}]);